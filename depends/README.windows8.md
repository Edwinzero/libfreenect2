#Installation on Windows8 detailed tutorial
This tutorial is for x64 target machine. x86 has error with libusb

##1. About libusbK driver

If you have the Kinect for Windows v2 SDK, install it first. You don't need to uninstall the SDK or the driver before doing this procedure.

Install the libusbK backend driver for libusbx:

Download Zadig from http://zadig.akeo.ie/.
Run Zadig and in options, check List All Devices and uncheck Ignore Hubs or Composite Parents
Select the Xbox NUI Sensor (composite parent) from the drop-down box. (Ignore the Interface 0 and Interface 2 varieties.) The current driver will list usbccgp. USB ID is VID 045E, PID 02C4.
Select libusbK (v3.0.6.0) from the replacement driver list.
Click the Replace Driver button. Click yes on the warning about replacing a system driver. (This is because it is a composite parent.)
Done.
To uninstall the libusbK driver (and get back the official SDK driver, if installed):

Open Device Manager
Under libusbK USB Devices, right click the "Xbox NUI Sensor (Composite Parent)" device and select uninstall.
Important: Check the "Delete the driver software for this device." checkbox, then click OK.
If you already had the official SDK driver installed and you want to use it:

In Device Manager, in the Action menu, click "Scan for hardware changes."
This will enumerate the Kinect sensor again and it will pick up the K4W2 SDK driver, and you should be ready to run KinectService.exe again immediately.

You can go back and forth between the SDK driver and the libusbK driver very quickly and easily with these steps.

##2. Preparation

###Extra Dependencies:
ALL x64 please. (Assume you have CMake)
OpenCV: http://opencv.org/downloads.html (test version 2.4.11)

  Set opencv/build as system variable: OPENCV_BUILD. This will be convinence for future using.
  
  Set opencv/build/vc"put version here"/x86 or x64/bin into Path variable.
  
OpenCL: http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/

  Automatically set.
  
libjpeg-turbo: http://sourceforge.net/projects/libjpeg-turbo/files/

  After installation, put it to ../depends/libjpeg_turbo.

  File organization like libjpeg_turbo/include; libjpeg_turbo/lib; libjpeg_turbo/bin
  
###Dependencies

Run install_deps.sh. You will get libusb_src and glfw_src.

Download libusbx-winso.zip from https://www.dropbox.com/s/madoye1ayaoajet/libusbx-winiso.zip.

Change the file organization like: 

libusb/include/libusb-1.0/libusb.h; libusb/lib/usb-1.0.dll and libusb/lib/usb-1.0.lib (Both .dll and .lib are generated by running .DLL build configuration)
(IN the later runtime of Protonect, you still need to change the library name back to libusb.dll/.lib)

##3. Congifuring in CMake.

Open CMake GUI. 

Set source path:  libfreenect2/examples/protonect/; Set build path: libfreenect2/build. 
Check grouped, advanced.

Press Configure. It should be all right. Then Generate.

###Trouble Shooting:
1. If you occurs something like "opencvconfig.cmake" not found. Please manually set the path to opencv/build(You can find these cmake files there)

2. Please double check your opencv and opencl setting (Especially the x86/x64 part!)


##4. Build in Visual Studio
Just run ALL_BUILD, it will run without any error. You can ignore the warnning.

For fast testing, you can put all the files in ../protonect/lib/Debug or Release to ../protonect/bin/Debug or Release. And put ../depends/libusb to ../protonect/bin/Debug or Release 

Just run Protonect.exe and enjoy!


##5. Install

Run INSTALL in visual studio solution. The installation path can be changed in CMake configuration. In CMAKE-> CMAKE_INSTALL_PREFIX






